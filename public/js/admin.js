let org;function onLoadAdimn(){adminIcon();document.querySelector(".search-admin-user");$(".search-admin-user").on("input",requestUsers),org=document.querySelector(".table-users thead")}function banUser(e){$.ajaxSetup({headers:{"X-CSRF-TOKEN":$('meta[name="csrf-token"]').attr("content")}}),$.ajax({type:"post",url:"/api/members/"+e+"/ban",success:function(e){window.location.reload()},error:function(e){console.log("server error")}})}function dismissModerator(e){$.ajaxSetup({headers:{"X-CSRF-TOKEN":$('meta[name="csrf-token"]').attr("content")}}),$.ajax({method:"post",url:"/api/members/"+e+"/dismiss",success:function(e){window.location.reload()},error:function(e){console.log("server error")}})}function promoteUser(e){$.ajaxSetup({headers:{"X-CSRF-TOKEN":$('meta[name="csrf-token"]').attr("content")}}),$.ajax({method:"post",url:"/api/members/"+e+"/promote",success:function(e){window.location.reload()},error:function(e){console.log("server error")}})}function deleteContent(){$.ajaxSetup({headers:{"X-CSRF-TOKEN":$('meta[name="csrf-token"]').attr("content")}}),$.ajax({success:function(e){},error:function(e){console.log("server error")}})}function ignoreReport(e){console.log(e),$.ajaxSetup({headers:{"X-CSRF-TOKEN":$('meta[name="csrf-token"]').attr("content")}}),$.ajax({success:function(e){},error:function(e){console.log("server error")}})}function requestUsers(e){""!=$(this).val()&&($.ajaxSetup({headers:{"X-CSRF-TOKEN":$('meta[name="csrf-token"]').attr("content")}}),$.ajax({method:"post",url:"/api/search/user",data:{name:$(this).val()},success:function(e){displayUsers(e)},error:function(e){console.log("server error")}}))}function displayUsers(e){let n=document.querySelector(".table-users");n.innerHTML="",n.appendChild(org);for(let r=0;r<e.length;r++)n.innerHTML+='<tr><td><a href="/profile/'+e[r].username+'">'+e[r].username+"</a></td><td>"+e[r].email+"</td><td>"+e[r].rankname+'</td><td><div class="btn-group" role="group" aria-label="Basic example"><button type="button" onclick="promoteUser(\''+e[r].username+'\')"class="btn btn-success .btn-sm">Promote</button><button type="button" class="btn btn-danger .btn-sm" onclick="banUser(\''+e[r].username+"')\">Ban</button></div></td></tr>"}function adminIcon(){let e=document.querySelectorAll(".admin-tabs li a");window.innerWidth<=770?(e[0].innerHTML='<i class="fas fa-folder-open" style="margin-right: 10px;"></i>',e[1].innerHTML='<i class="fas fa-users" style="margin-right: 10px;"></i>',e[2].innerHTML='<i class="fas fa-user-shield" style="margin-right: 10px;"></i>',e[3].innerHTML='<i class="fas fa-exclamation-triangle" style="margin-right: 10px;"></i>'):(e[0].innerHTML='<i class="fas fa-folder-open" style="margin-right: 10px;"></i>Categories',e[1].innerHTML='<i class="fas fa-users" style="margin-right: 10px;"></i>Users',e[2].innerHTML='<i class="fas fa-user-shield" style="margin-right: 10px;"></i> Moderators',e[3].innerHTML='<i class="fas fa-exclamation-triangle" style="margin-right: 10px;"></i> Reported content')}window.addEventListener("load",onLoadAdimn),window.addEventListener("resize",adminIcon);